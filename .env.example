###############################################################################
# Core Flask / Security
###############################################################################

# REQUIRED
# Secret key for session signing & CSRF protection
# Generate with:
#   python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=change-me-to-a-random-secret

# Enable Flask debug mode (DEV ONLY!)
# DO NOT enable in production
DEBUG=TRUE


###############################################################################
# Server / Networking
###############################################################################

# Bind address
# - localhost   → local only
# - 127.0.0.1   → local only
# - 0.0.0.0     → all interfaces (Docker / LAN)
HOST=0.0.0.0

# Port the app listens on
PORT=8000


###############################################################################
# Media / Filesystem
###############################################################################

# Root directory for media files
# Default: <project>/media
MEDIA_ROOT=


###############################################################################
# Pagination / UI
###############################################################################

# Default number of entries per page
DEFAULT_PER_PAGE=12


###############################################################################
# Authentication / Authorization
###############################################################################

# Master switch for authentication
# ⚠️ MUST be 1 in production (app will refuse to start otherwise)
AUTH_ENABLED=TRUE

# Session / Remember-Me cookie security
# In production behind HTTPS these MUST be 1
SESSION_COOKIE_SECURE=FALSE
REMEMBER_COOKIE_SECURE=FALSE

# Cookie same-site policy:
#   Lax | Strict | None
SESSION_COOKIE_SAMESITE=Lax

# Login attempt limits
# Lock out user after N failed login attempts
MAX_FAILED_LOGINS=5

# Lockout duration in minutes
ACCOUNT_LOCKOUT_DURATION=15


###############################################################################
# Database (PostgreSQL)
###############################################################################

# --- Postgres container bootstrap ---
# Used by the postgres service itself
POSTGRES_DB=videoplayer
POSTGRES_USER=videoplayer
POSTGRES_PASSWORD=change-me-strong

# --- SQLAlchemy connection string ---
# Used by the Flask application
# (Service hostname is "postgres" inside docker-compose)
DATABASE_URL=postgresql+psycopg://videoplayer:change-me-strong@postgres:5432/videoplayer

# Example for local Postgres (outside Docker):
# DATABASE_URL=postgresql+psycopg://user:password@localhost:5432/videoplayer


###############################################################################
# Rate Limiting (Flask-Limiter)
###############################################################################

# Enable / disable rate limiting globally
RATE_LIMIT_ENABLED=TRUE

# Storage backend for rate limiting
# - memory://          → DEV ONLY (single process, resets on restart)
# - redis://host:port  → REQUIRED for production
RATELIMIT_STORAGE_URI=redis://redis:6379/0


###############################################################################
# Maintenance / Cleanup
###############################################################################

# Automatically remove empty directories after delete
CLEANUP_EMPTY_DIRECTORIES=FALSE
