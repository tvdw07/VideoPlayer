{% extends "base.html" %}
{% block content %}

<h4 class="mb-3">ğŸ“ {{ current or "media" }}</h4>

<ul class="list-group">

    {% if current %}
    <li class="list-group-item">
        <a href="{{ url_for('browse.browse', rel_path=parent) }}">â† ZurÃ¼ck</a>
    </li>
    {% endif %}

    {% for item in items %}
    <li class="list-group-item d-flex justify-content-between align-items-center">

        <div>
            {% if item.is_dir %}
            <span class="item-dir">ğŸ“</span>
            <a href="{{ url_for('browse.browse', rel_path=item.path) }}" class="item-dir">{{ item.name }}</a>

            {% elif item.is_video %}
            <span class="item-video">â–¶</span>
            <a href="{{ url_for('watch.watch', rel_path=item.path) }}" class="item-video">{{ item.name }}</a>

            {% else %}
            <span class="item-file">ğŸ“„ {{ item.name }}</span>
            {% endif %}
        </div>

        {% if item.is_video and item.form %}
        <form method="post" action="{{ url_for('browse.delete_video') }}"
              onsubmit="return confirm('Video wirklich lÃ¶schen?');">
            {{ item.form.hidden_tag() }}
            {{ item.form.video_path }}
            <button type="submit" class="btn btn-sm btn-outline-danger">
                LÃ¶schen
            </button>
        </form>
        {% endif %}

    </li>
    {% endfor %}
</ul>

{% if pagination and pagination.pages > 1 %}
<div class="d-flex justify-content-between align-items-center mt-3">
    <small class="text-secondary">
        Seite {{ pagination.page }} / {{ pagination.pages }}
    </small>

    <ul class="pagination pagination-sm mb-0">
        <li class="page-item {% if not pagination.has_prev %}disabled{% endif %}">
            <a class="page-link"
               href="{{ url_for('browse.browse', rel_path=current, page=pagination.prev_page) }}">â†</a>
        </li>

        <li class="page-item {% if not pagination.has_next %}disabled{% endif %}">
            <a class="page-link"
               href="{{ url_for('browse.browse', rel_path=current, page=pagination.next_page) }}">â†’</a>
        </li>
    </ul>
</div>
{% endif %}

{% endblock %}
